# NewsGap å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸš€ ä¸€é”®éƒ¨ç½²ä¸è¿è¡Œ

### é¦–æ¬¡ä½¿ç”¨

å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ NewsGapï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/roson/workspace/NewsGap

# 2. ä¸€é”®éƒ¨ç½²ï¼ˆå®‰è£…ä¾èµ–ã€åˆå§‹åŒ–æ•°æ®åº“ï¼‰
./deploy.sh

# 3. å¯åŠ¨æœåŠ¡
./start.sh
```

### æ—¥å¸¸ä½¿ç”¨

åç»­ä½¿ç”¨åªéœ€è¦ï¼š

```bash
# å¯åŠ¨æœåŠ¡
./start.sh
```

---

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨å‰åç«¯æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰
./start.sh

# åœæ­¢æ‰€æœ‰æœåŠ¡
./stop.sh

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./status.sh

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
./status.sh -v

# Docker ç›¸å…³ï¼ˆå¯é€‰ï¼‰
./docker.sh start    # å¯åŠ¨ RSSHub
./docker.sh status   # æŸ¥çœ‹ RSSHub çŠ¶æ€
./docker.sh logs     # æŸ¥çœ‹ RSSHub æ—¥å¿—
./docker.sh stop     # åœæ­¢ RSSHub
```

---

## ğŸŒ è®¿é—®åœ°å€

å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|-----|------|------|
| **å‰ç«¯ç•Œé¢** | http://localhost:5173 | ä¸»è¦æ“ä½œç•Œé¢ |
| **åç«¯ API** | http://localhost:8000 | API æœåŠ¡ |
| **API æ–‡æ¡£** | http://localhost:8000/docs | äº¤äº’å¼ API æ–‡æ¡£ |
| **RSSHub** | http://localhost:1200 | RSS èšåˆæœåŠ¡ï¼ˆå¯é€‰ï¼‰ |

---

## ğŸ”§ åˆæ¬¡é…ç½®

### 1. é…ç½® API Keys

å¯åŠ¨åï¼Œè®¿é—®å‰ç«¯ç•Œé¢ï¼Œè¿›å…¥ **è®¾ç½® -> API Keys**ï¼Œé…ç½®ä½ çš„ LLM API Keyï¼š

#### æ¨èé…ç½®ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

1. **Gemini** (æ¨è)
   - å…è´¹é¢åº¦å……è¶³
   - é€Ÿåº¦å¿«ï¼Œè´¨é‡é«˜
   - è·å–åœ°å€ï¼šhttps://aistudio.google.com/app/apikey

2. **DeepSeek**
   - æ€§ä»·æ¯”æé«˜
   - ä¸­æ–‡èƒ½åŠ›å¼º
   - è·å–åœ°å€ï¼šhttps://platform.deepseek.com/

3. **Ollama** (æœ¬åœ°)
   - å®Œå…¨å…è´¹
   - æ— éœ€ API Key
   - éœ€è¦æœ¬åœ°å®‰è£…ï¼šhttps://ollama.com/

### 2. æ·»åŠ ä¿¡æ¯æº

è¿›å…¥ **è®¾ç½® -> ä¿¡æ¯æºç®¡ç†**ï¼Œå¯ä»¥ï¼š
- æŸ¥çœ‹æ‰€æœ‰é¢„è®¾çš„ä¿¡æ¯æº
- å¯ç”¨/ç¦ç”¨ç‰¹å®šä¿¡æ¯æº
- æ·»åŠ è‡ªå®šä¹‰ä¿¡æ¯æº

---

## ğŸ’¡ ä½¿ç”¨æµç¨‹

### æ–¹å¼ä¸€ï¼šä¸€é”®æƒ…æŠ¥ï¼ˆæ¨èï¼‰

1. åœ¨é¦–é¡µé€‰æ‹©**è¡Œä¸šåˆ†ç±»**ï¼ˆå¦‚ï¼šæ¸¸æˆç”µç«ã€ç§‘æŠ€äº’è”ç½‘ï¼‰
2. è®¾ç½®**æ—¶é—´èŒƒå›´**ï¼ˆå¦‚ï¼š24å°æ—¶ï¼‰
3. é€‰æ‹©**LLM åç«¯**ï¼ˆå¦‚ï¼šGeminiï¼‰
4. ç‚¹å‡» **âš¡ ä¸€é”®æƒ…æŠ¥**
5. ç­‰å¾…ç‰‡åˆ»ï¼Œè‡ªåŠ¨è·³è½¬åˆ°åˆ†ææŠ¥å‘Š

**ä¼˜ç‚¹**ï¼šå…¨è‡ªåŠ¨ï¼Œä¸€é”®å®Œæˆçˆ¬å–+åˆ†æ

### æ–¹å¼äºŒï¼šåˆ†æ­¥æ‰§è¡Œ

1. ç‚¹å‡» **â–¶ ä»…çˆ¬å–** â†’ åªçˆ¬å–æ–‡ç« ï¼Œä¸åˆ†æ
2. è¿›å…¥ **æ–‡ç« åˆ—è¡¨** â†’ æŸ¥çœ‹çˆ¬å–çš„æ–‡ç« 
3. é€‰æ‹©æ–‡ç«  â†’ æ‰‹åŠ¨åˆ†æ

**ä¼˜ç‚¹**ï¼šçµæ´»æ§åˆ¶ï¼Œå¯ä»¥å…ˆçœ‹å†…å®¹å†å†³å®šæ˜¯å¦åˆ†æ

---

## ğŸ“Š åŠŸèƒ½è¯´æ˜

### 1. ä¸€é”®æƒ…æŠ¥

- **è‡ªåŠ¨çˆ¬å–** æœ€è¿‘ N å°æ—¶çš„è¡Œä¸šèµ„è®¯
- **æ™ºèƒ½åˆ†æ** ç”Ÿæˆçƒ­ç‚¹ç®€æŠ¥ã€ä¼ æ’­æ´å¯Ÿã€è¶‹åŠ¿é¢„åˆ¤
- **Markdown æŠ¥å‘Š** å®Œæ•´ã€è¯¦å°½çš„åˆ†ææ–‡æ¡£
- **æ–‡ç« å¼•ç”¨** æŠ¥å‘Šä¸­çš„ [1]ã€[2] å¯ç‚¹å‡»æŸ¥çœ‹åŸæ–‡

### 2. æ–‡ç« ç®¡ç†

- **æŸ¥è¯¢** æŒ‰è¡Œä¸šã€æ—¶é—´ã€æ ‡ç­¾ç­›é€‰
- **æœç´¢** å…¨æ–‡æœç´¢æ–‡ç« å†…å®¹
- **å½’æ¡£** å¯¼å‡ºä¸º Markdown æ–‡æ¡£

### 3. åˆ†æåˆ—è¡¨

- æŸ¥çœ‹æ‰€æœ‰å†å²åˆ†ææŠ¥å‘Š
- æŒ‰æ—¶é—´ã€è¡Œä¸šã€LLM åç«¯ç­›é€‰
- é‡æ–°æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š

### 4. è‡ªå®šä¹‰åˆ†ç±»

- åˆ›å»ºè‡ªå®šä¹‰çš„æƒ…æŠ¥åˆ†ç±»
- é€‰æ‹©ç‰¹å®šçš„ä¿¡æ¯æºç»„åˆ
- è‡ªå®šä¹‰åˆ†æ prompt

---

## ğŸ“ æ—¥å¿—æŸ¥çœ‹

### å®æ—¶æŸ¥çœ‹æ—¥å¿—

```bash
# åç«¯æ—¥å¿—
tail -f logs/backend.log

# å‰ç«¯æ—¥å¿—
tail -f logs/frontend.log
```

### æŸ¥çœ‹æœ€è¿‘ 50 è¡Œæ—¥å¿—

```bash
# åç«¯
tail -n 50 logs/backend.log

# å‰ç«¯
tail -n 50 logs/frontend.log
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šå¯åŠ¨å¤±è´¥

```bash
# æŸ¥çœ‹è¯¦ç»†çŠ¶æ€
./status.sh -v

# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
lsof -i :8000  # åç«¯
lsof -i :5173  # å‰ç«¯

# å¼ºåˆ¶åœæ­¢å¹¶é‡æ–°å¯åŠ¨
./stop.sh
./start.sh
```

### é—®é¢˜2ï¼šåˆ†ææŠ¥å‘Šè¢«æˆªæ–­

**åŸå› **ï¼šåç«¯è¿›ç¨‹æœªé‡å¯ï¼Œä»ä½¿ç”¨æ—§é…ç½®

**è§£å†³**ï¼š
```bash
# é‡å¯åç«¯
./stop.sh
./start.sh
```

### é—®é¢˜3ï¼š404 é”™è¯¯ï¼ˆæœªèƒ½è·å–æ–‡ç« ï¼‰

**åŸå› **ï¼šæœ¬åœ° RSSHub æœåŠ¡æœªå¯åŠ¨

**è§£å†³**ï¼š
- æ£€æŸ¥ä¿¡æ¯æºé…ç½®ï¼ˆä½¿ç”¨ `localhost:1200` éœ€è¦æœ¬åœ° RSSHubï¼‰
- æˆ–å‰ç«¯ä¼šå¼¹å‡ºæç¤ºæ¡†ï¼ŒæŒ‰æç¤ºæ“ä½œ

### é—®é¢˜4ï¼šAPI Key æ— æ•ˆ

**è§£å†³**ï¼š
1. è¿›å…¥ **è®¾ç½® -> API Keys**
2. é‡æ–°è¾“å…¥æ­£ç¡®çš„ API Key
3. ç‚¹å‡»ä¿å­˜

---

## ğŸ› ï¸ é«˜çº§é…ç½®

### ä¿®æ”¹ç«¯å£

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```bash
# åç«¯ç«¯å£ï¼ˆé»˜è®¤ 8000ï¼‰
vi backend/main.py
# ä¿®æ”¹: uvicorn.run("app:app", host="0.0.0.0", port=8000)

# å‰ç«¯ç«¯å£ï¼ˆé»˜è®¤ 5173ï¼‰
vi frontend/vite.config.ts
# ä¿®æ”¹: server: { port: 5173 }
```

### ä¿®æ”¹æ•°æ®åº“ä½ç½®

```bash
vi backend/storage/database.py
# ä¿®æ”¹: db_path = "./data/newsgap.db"
```

---

## ğŸ“¦ ç›®å½•ç»“æ„

```
NewsGap/
â”œâ”€â”€ start.sh          # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop.sh           # ä¸€é”®åœæ­¢è„šæœ¬
â”œâ”€â”€ status.sh         # çŠ¶æ€æŸ¥çœ‹è„šæœ¬
â”œâ”€â”€ deploy.sh         # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ logs/             # æ—¥å¿—ç›®å½•
â”‚   â”œâ”€â”€ backend.log   # åç«¯æ—¥å¿—
â”‚   â””â”€â”€ frontend.log  # å‰ç«¯æ—¥å¿—
â”œâ”€â”€ backend/          # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ data/         # æ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ config/       # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ venv/         # Python è™šæ‹Ÿç¯å¢ƒ
â””â”€â”€ frontend/         # å‰ç«¯ä»£ç 
    â””â”€â”€ node_modules/ # npm ä¾èµ–
```

---

## âš™ï¸ ç³»ç»Ÿè¦æ±‚

### å¿…éœ€

- **Python**: 3.10+
- **Node.js**: 18+
- **ç£ç›˜ç©ºé—´**: è‡³å°‘ 2GB
- **å†…å­˜**: è‡³å°‘ 4GB

### æ¨è

- **æ“ä½œç³»ç»Ÿ**: macOS / Ubuntu 20.04+
- **ç£ç›˜ç©ºé—´**: 5GB+
- **å†…å­˜**: 8GB+

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… å®Œæˆé¦–æ¬¡éƒ¨ç½²
2. âœ… é…ç½® API Keys
3. âœ… è¿è¡Œç¬¬ä¸€æ¬¡"ä¸€é”®æƒ…æŠ¥"
4. ğŸ“– é˜…è¯»å®Œæ•´æ–‡æ¡£ï¼š
   - `README.md` - é¡¹ç›®ä»‹ç»
   - `REPORT_TRUNCATION_FIX.md` - æŠ¥å‘Šå®Œæ•´æ€§ä¿®å¤è¯´æ˜
   - `backend/README.md` - åç«¯æŠ€æœ¯æ–‡æ¡£

---

## ğŸ’¬ åé¦ˆä¸æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹æ—¥å¿—ï¼š`./status.sh -v`
2. æ£€æŸ¥çŠ¶æ€ï¼š`./status.sh`
3. é‡å¯æœåŠ¡ï¼š`./stop.sh && ./start.sh`

äº«å—ä½¿ç”¨ NewsGapï¼ğŸ‰
